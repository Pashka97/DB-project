<!DOCTYPE html>
<html>
<body>

<a href="/">Home</a>
    
<h1>Sign Up/Log In</h1>

  <div class="divSignUp">
        <!-- add JS here -->
    <form action="javascript:handleClick()">
      First name: <input type="text" name="firstname"><br>
      Last name: <input type="text" name="lastname"><br>
      Email: <input type="text" name="email"><br>
      Username: <input type="text" name="username"><br>
      Password: <input type="text" name="password"><br>
    <!--  Confirm Password: <input type="text" name="passConf"><br>   -->
      <input type="submit" value="Sign Up" formaction= "/account/" formmethod='post'>
    </form>
   </div>
    
   <br>
   <div class="divLogIn">
        <!-- add JS here -->
    <form action="javascript:checkLogIn()">
      User Name: <input type="text" name="uname2" id='username'><br>
      Password: <input type="password" name="pass2" id='password'><br>
      <input type="submit" value="Log in">
    </form>
   <script>
   function checkLogIn() {
      const usr= document.getElementById('username').value;
      const pass= document.getElementById('password').value;
      url= `/user/${usr}&${pass}`;
      //console.log(`${url}`);
      var xhr= new XMLHttpRequest();
      xhr.open("GET", `${url}`);
      xhr.onload= function(e) {
        if (xhr.readyState === 4) {
          if(xhr.status === 200) {
            alert(`Successful login as ${usr}`);
          }
          else {
            alert("Unsuccessful login. Try again please");
          }
        }
      }
      xhr.send(null);
   }
   </script>
   </div>
   
</body>
</html>